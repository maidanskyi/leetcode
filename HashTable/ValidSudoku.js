/**
 * @param {character[][]} board
 * @return {boolean}
 */
const isValidSudoku = (board) => {

  const keySet = new Set();

  for (let i = 0; i < 9; i++) {
    for (let j = 0; j < 9; j++) {
      if (board[i][j] === '.') continue;
      if (
        !keySet.has(`${board[i][j]} in row ${i}`)
        && !keySet.has(`${board[i][j]} in column ${j}`)
        && !keySet.has(`${board[i][j]} in square ${Math.floor(i/3)}x${Math.floor(j/3)}`)
      ) {
        keySet.add(`${board[i][j]} in row ${i}`);
        keySet.add(`${board[i][j]} in column ${j}`);
        keySet.add(`${board[i][j]} in square ${Math.floor(i/3)}x${Math.floor(j/3)}`);
      } else {
        return false;
      }
    }
  }

  return true;

}

console.log(isValidSudoku(
  [
    ["5","3",".",".","7",".",".",".","."],
    ["6",".",".","1","9","5",".",".","."],
    [".","9","8",".",".",".",".","6","."],
    ["8",".",".",".","6",".",".",".","3"],
    ["4",".",".","8",".","3",".",".","1"],
    ["7",".",".",".","2",".",".",".","6"],
    [".","6",".",".",".",".","2","8","."],
    [".",".",".","4","1","9",".",".","5"],
    [".",".",".",".","8",".",".","7","9"]
  ]
)); // true
console.log(isValidSudoku(
  [
    ["8","3",".",".","7",".",".",".","."],
    ["6",".",".","1","9","5",".",".","."],
    [".","9","8",".",".",".",".","6","."],
    ["8",".",".",".","6",".",".",".","3"],
    ["4",".",".","8",".","3",".",".","1"],
    ["7",".",".",".","2",".",".",".","6"],
    [".","6",".",".",".",".","2","8","."],
    [".",".",".","4","1","9",".",".","5"],
    [".",".",".",".","8",".",".","7","9"]
  ]
)); // false

console.log(isValidSudoku(
  [
    [".",".","4",".",".",".","6","3","."],
    [".",".",".",".",".",".",".",".","."],
    ["5",".",".",".",".",".",".","9","."],
    [".",".",".","5","6",".",".",".","."],
    ["4",".","3",".",".",".",".",".","1"],
    [".",".",".","7",".",".",".",".","."],
    [".",".",".","5",".",".",".",".","."],
    [".",".",".",".",".",".",".",".","."],
    [".",".",".",".",".",".",".",".","."]
  ]
)); // false
